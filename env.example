# MES系统环境配置示例文件
# 复制此文件为 .env 并修改相应的配置值

# 数据库配置
MYSQL_ROOT_PASSWORD=root123456
MYSQL_PASSWORD=mes123456
MYSQL_DATABASE=mes_core
MYSQL_HOST=localhost
MYSQL_PORT=3306

# Redis配置
REDIS_PASSWORD=redis123456
REDIS_HOST=localhost
REDIS_PORT=6379

# JWT配置
JWT_SECRET=mes_jwt_secret_key_change_in_production
JWT_EXPIRES_IN=24h

# 应用配置
NODE_ENV=development
PORT=8080
LOG_LEVEL=info

# 文件上传配置
UPLOAD_MAX_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx,xls,xlsx

# 邮件配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@mes.company.com

# 短信配置
SMS_PROVIDER=aliyun
SMS_ACCESS_KEY_ID=your-access-key
SMS_ACCESS_KEY_SECRET=your-secret
SMS_SIGN_NAME=MES系统
SMS_TEMPLATE_CODE=SMS_123456789

# 对象存储配置
OSS_REGION=oss-cn-hangzhou
OSS_ACCESS_KEY_ID=your-oss-key
OSS_ACCESS_KEY_SECRET=your-oss-secret
OSS_BUCKET=mes-files
OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com

# 微信小程序配置
WECHAT_APPID=your-wechat-appid
WECHAT_APPSECRET=your-wechat-secret
WECHAT_MCHID=your-merchant-id
WECHAT_API_KEY=your-api-key

# 钉钉配置
DINGTALK_APP_KEY=your-dingtalk-app-key
DINGTALK_APP_SECRET=your-dingtalk-secret
DINGTALK_AGENT_ID=your-agent-id

# 监控配置
PROMETHEUS_ENDPOINT=http://localhost:9090
GRAFANA_ENDPOINT=http://localhost:3002
ELASTICSEARCH_ENDPOINT=http://localhost:9200

# 日志配置
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10
LOG_MAX_AGE=30d

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_UPDATE_INTERVAL=300

# 安全配置
CORS_ORIGIN=http://localhost:3000
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
BCRYPT_ROUNDS=12

# 业务配置
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
DEFAULT_CURRENCY=CNY
TIMEZONE=Asia/Shanghai

# 质量配置
AQL_LEVEL_1=0.65
AQL_LEVEL_2=2.5
AQL_LEVEL_3=4.0
DEFECT_THRESHOLD=5
QUALITY_TARGET=99.5

# 生产配置
PRODUCTION_LINE_COUNT=5
WORKSTATION_COUNT=20
MAX_CONCURRENT_ORDERS=100
AUTO_APPROVAL_THRESHOLD=1000

# 追溯配置
TRACE_RETENTION_DAYS=2555
TRACE_BATCH_SIZE=1000
TRACE_SYNC_INTERVAL=300

# 报表配置
REPORT_TEMPLATE_PATH=./templates
REPORT_OUTPUT_PATH=./reports
REPORT_RETENTION_DAYS=365
REPORT_FORMAT=pdf,excel

# API配置
API_VERSION=v1
API_PREFIX=/api
API_TIMEOUT=30000
API_RETRY_ATTEMPTS=3

# 前端配置
FRONTEND_URL=http://localhost:3000
BI_URL=http://localhost:3001
MOBILE_URL=http://localhost:3000/mobile

# 开发工具配置
DEBUG_MODE=true
HOT_RELOAD=true
SOURCE_MAPS=true
ESLINT_FIX=true

# 测试配置
TEST_DATABASE_URL=mysql://test:test@localhost:3306/mes_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_TIMEOUT=10000

# 部署配置
DEPLOY_ENV=development
DEPLOY_VERSION=1.0.0
DEPLOY_BUILD_NUMBER=1
DEPLOY_COMMIT_SHA=unknown

# 第三方集成配置
ERP_API_URL=http://erp.company.com/api
ERP_API_KEY=your-erp-api-key
ITL_API_URL=http://itl.company.com/api
ITL_API_KEY=your-itl-api-key

# 告警配置
ALERT_EMAIL=alerts@company.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/xxx
ALERT_SMS_ENABLED=true
ALERT_THRESHOLD_CPU=80
ALERT_THRESHOLD_MEMORY=85
ALERT_THRESHOLD_DISK=90

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=mes-backups

# 许可证配置
LICENSE_KEY=your-license-key
LICENSE_EXPIRES=2025-12-31
MAX_USERS=100
MAX_STATIONS=50
